<h2 class="page-header">{{model.league.season}} {{model.league.name}}</h2>
<div class="row">
    <div class="col-md-12">
        <a ng-link="['../../Leagues']" class="btn btn-primary">Back to leagues</a>
    </div>
</div>

<h4 class="page-header">
    League table
</h4>

<table class="table table-striped table-hover">
    <caption>The best {{model.league.countingRounds}} results count towards the points total. Dropped matches are displayed in
        <span class="bg-danger">red</span>
    </caption>
    <tr>
        <th>
            Round
        </th>
        <th colspan="2" ng-repeat="round in model.rounds">
            {{round}}
        </th>
        <th rowspan="2">
            Weight total
        </th>
        <th rowspan="2">
            Points total
        </th>
        <th rowspan="2">
            Best {{model.league.countingRounds}} Points
        </th>
        <th rowspan="2">
            Best {{model.league.countingRounds}} Weights
        </th>
        <th rowspan="2">
            Pos.
        </th>
    </tr>
    <tr>
        <th>
            Angler
        </th>

        <th ng-repeat-start="round in model.rounds">
            Weight
        </th>
        <th ng-repeat-end>
            Pnts
        </th>
    </tr>
    <tr ng-repeat="angler in model.anglers| orderBy:['-adjustedPointsTotal','-adjustedWeightTotal']">
        <td>{{angler.name}}</td>
        <td ng-class="{'bg-danger' : round.isCounted == false}" ng-repeat-start="round in angler.rounds">
            {{round.weight| weightToText}}
        </td>
        <td ng-class="{'bg-danger' : round.isCounted == false}" ng-repeat-end>
            {{round.points}}
        </td>
        <td>{{angler.weightTotal | weightToText}}</td>
        <td>{{angler.pointsTotal}}</td>
        <td>{{angler.adjustedWeightTotal | weightToText}}</td>
        <td>{{angler.adjustedPointsTotal}}</td>
        <td>{{$index + 1}}</td>
    </tr>
</table>